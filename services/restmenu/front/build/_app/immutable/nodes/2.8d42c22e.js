import{P as G}from"../chunks/public.550f299c.js";import{s as K,a as S,f as y,c as E,g as b,h as g,d as s,j as O,i as v,v as C,z as V,l as j,m as D,k as Q,n as X,u as T,B as Y,C as Z,D as $}from"../chunks/scheduler.cc50fc79.js";import{e as A}from"../chunks/each.e59479a4.js";import{S as ee,i as te}from"../chunks/index.bc93388f.js";async function le({fetch:c,parent:e}){const{user:t}=await e();let l=[];return t&&(l=await(await c(`${G}/api/get`,{credentials:"include"})).json()),{menus:l}}const fe=Object.freeze(Object.defineProperty({__proto__:null,load:le},Symbol.toStringTag,{value:"Module"}));function F(c,e,t){const l=c.slice();return l[5]=e[t],l}function N(c){let e,t;return{c(){e=y("p"),t=j(c[0]),this.h()},l(l){e=b(l,"P",{style:!0});var a=g(e);t=D(a,c[0]),a.forEach(s),this.h()},h(){Q(e,"color","red")},m(l,a){v(l,e,a),C(e,t)},p(l,a){a&1&&X(t,l[0])},d(l){l&&s(e)}}}function ne(c){let e,t="Welcome to RestMenu.",l,a,f="Please Sign Up or Sign In to continue...";return{c(){e=y("h4"),e.textContent=t,l=S(),a=y("h5"),a.textContent=f},l(i){e=b(i,"H4",{"data-svelte-h":!0}),T(e)!=="svelte-kqfg4e"&&(e.textContent=t),l=E(i),a=b(i,"H5",{"data-svelte-h":!0}),T(a)!=="svelte-1e0mocr"&&(a.textContent=f)},m(i,u){v(i,e,u),v(i,l,u),v(i,a,u)},p:V,d(i){i&&(s(e),s(l),s(a))}}}function ae(c){let e,t,l=c[1].username+"",a,f,i,u,o="Menus created by you:",P,k,p,r,d='See your <a href="/images">uploaded images.</a>',H,x,L,R="Create new menu for restaurant:",U,w,W='<input type="text" name="name"/> <input type="submit" value="Create"/>',z,q,M=A(c[2]),_=[];for(let n=0;n<M.length;n+=1)_[n]=J(F(c,M,n));return{c(){e=y("h4"),t=j('Welcome back, "'),a=j(l),f=j('".'),i=S(),u=y("p"),u.textContent=o,P=S(),k=y("ul");for(let n=0;n<_.length;n+=1)_[n].c();p=S(),r=y("p"),r.innerHTML=d,H=S(),x=y("div"),L=y("h5"),L.textContent=R,U=S(),w=y("form"),w.innerHTML=W,this.h()},l(n){e=b(n,"H4",{});var m=g(e);t=D(m,'Welcome back, "'),a=D(m,l),f=D(m,'".'),m.forEach(s),i=E(n),u=b(n,"P",{"data-svelte-h":!0}),T(u)!=="svelte-k0a5ls"&&(u.textContent=o),P=E(n),k=b(n,"UL",{});var h=g(k);for(let B=0;B<_.length;B+=1)_[B].l(h);h.forEach(s),p=E(n),r=b(n,"P",{"data-svelte-h":!0}),T(r)!=="svelte-csod2y"&&(r.innerHTML=d),H=E(n),x=b(n,"DIV",{class:!0});var I=g(x);L=b(I,"H5",{"data-svelte-h":!0}),T(L)!=="svelte-11hd4al"&&(L.textContent=R),U=E(I),w=b(I,"FORM",{method:!0,"data-svelte-h":!0}),T(w)!=="svelte-lczxuj"&&(w.innerHTML=W),I.forEach(s),this.h()},h(){O(w,"method","post"),O(x,"class","container")},m(n,m){v(n,e,m),C(e,t),C(e,a),C(e,f),v(n,i,m),v(n,u,m),v(n,P,m),v(n,k,m);for(let h=0;h<_.length;h+=1)_[h]&&_[h].m(k,null);v(n,p,m),v(n,r,m),v(n,H,m),v(n,x,m),C(x,L),C(x,U),C(x,w),z||(q=Y(w,"submit",Z(c[3])),z=!0)},p(n,m){if(m&4){M=A(n[2]);let h;for(h=0;h<M.length;h+=1){const I=F(n,M,h);_[h]?_[h].p(I,m):(_[h]=J(I),_[h].c(),_[h].m(k,null))}for(;h<_.length;h+=1)_[h].d(1);_.length=M.length}},d(n){n&&(s(e),s(i),s(u),s(P),s(k),s(p),s(r),s(H),s(x)),$(_,n),z=!1,q()}}}function J(c){let e,t,l=c[5].name+"",a;return{c(){e=y("li"),t=y("a"),a=j(l),this.h()},l(f){e=b(f,"LI",{});var i=g(e);t=b(i,"A",{href:!0});var u=g(t);a=D(u,l),u.forEach(s),i.forEach(s),this.h()},h(){O(t,"href","/menu/"+c[5].id)},m(f,i){v(f,e,i),C(e,t),C(t,a)},p:V,d(f){f&&s(e)}}}function ie(c){let e,t,l,a,f,i,u,o=c[0]&&N(c);function P(r,d){return r[1]?ae:ne}let p=P(c)(c);return{c(){o&&o.c(),e=S(),t=y("div"),l=y("div"),a=S(),f=y("div"),p.c(),i=S(),u=y("div"),this.h()},l(r){o&&o.l(r),e=E(r),t=b(r,"DIV",{class:!0});var d=g(t);l=b(d,"DIV",{}),g(l).forEach(s),a=E(d),f=b(d,"DIV",{});var H=g(f);p.l(H),H.forEach(s),i=E(d),u=b(d,"DIV",{}),g(u).forEach(s),d.forEach(s),this.h()},h(){O(t,"class","grid")},m(r,d){o&&o.m(r,d),v(r,e,d),v(r,t,d),C(t,l),C(t,a),C(t,f),p.m(f,null),C(t,i),C(t,u)},p(r,[d]){r[0]?o?o.p(r,d):(o=N(r),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),p.p(r,d)},i:V,o:V,d(r){r&&(s(e),s(t)),o&&o.d(r),p.d()}}}function re(c,e,t){let{data:l}=e,a=l.user,f=l.menus,i;async function u(o){let k=new FormData(o.currentTarget).get("name");try{const p=await fetch(`${G}/api/create`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:k})});if(p.ok)window.location.reload();else try{t(0,i=await p.json().error)}catch{t(0,i=await p.text())}}catch(p){t(0,i=p.toString())}}return c.$$set=o=>{"data"in o&&t(4,l=o.data)},[i,a,f,u,l]}class he extends ee{constructor(e){super(),te(this,e,re,ie,K,{data:4})}}export{he as component,fe as universal};
