import{s as k,f as c,a as w,g as f,h as g,d as m,c as b,u as E,j as T,i as O,v as l,B as L,C as M,z as D,l as U,m as V,k as A,n as B}from"../chunks/scheduler.cc50fc79.js";import{S as H,i as R}from"../chunks/index.bc93388f.js";import{g as j,i as z}from"../chunks/navigation.0fbf9e82.js";import{P as F}from"../chunks/public.550f299c.js";function I(d){let e,r;return{c(){e=c("p"),r=U(d[0]),this.h()},l(a){e=f(a,"P",{style:!0});var t=g(e);r=V(t,d[0]),t.forEach(m),this.h()},h(){A(e,"color","red")},m(a,t){O(a,e,t),l(e,r)},p(a,t){t&1&&B(r,a[0])},d(a){a&&m(e)}}}function J(d){let e,r,a,t,p,v="Welcome to RestMenu!",_,u,i,S=`<div class="grid"><div><label for="username">Username
                        <input type="text" id="username" name="username" placeholder="user"/></label></div> <div><label for="password">Password
                        <input type="password" id="password" name="password" placeholder="password"/></label></div></div> <input type="submit" value="Sign Up"/>`,C,y,P,x,s=d[0]&&I(d);return{c(){e=c("div"),r=c("div"),a=w(),t=c("div"),p=c("h3"),p.textContent=v,_=w(),s&&s.c(),u=w(),i=c("form"),i.innerHTML=S,C=w(),y=c("div"),this.h()},l(o){e=f(o,"DIV",{class:!0});var n=g(e);r=f(n,"DIV",{}),g(r).forEach(m),a=b(n),t=f(n,"DIV",{});var h=g(t);p=f(h,"H3",{"data-svelte-h":!0}),E(p)!=="svelte-l9z3gp"&&(p.textContent=v),_=b(h),s&&s.l(h),u=b(h),i=f(h,"FORM",{method:!0,"data-svelte-h":!0}),E(i)!=="svelte-pyfnx4"&&(i.innerHTML=S),h.forEach(m),C=b(n),y=f(n,"DIV",{}),g(y).forEach(m),n.forEach(m),this.h()},h(){T(i,"method","POST"),T(e,"class","grid")},m(o,n){O(o,e,n),l(e,r),l(e,a),l(e,t),l(t,p),l(t,_),s&&s.m(t,null),l(t,u),l(t,i),l(e,C),l(e,y),P||(x=L(i,"submit",M(d[1])),P=!0)},p(o,[n]){o[0]?s?s.p(o,n):(s=I(o),s.c(),s.m(t,u)):s&&(s.d(1),s=null)},i:D,o:D,d(o){o&&m(e),s&&s.d(),P=!1,x()}}}function N(d,e,r){let a;async function t(p){const v=new FormData(p.currentTarget);let _=v.get("username"),u=v.get("password");try{const i=await fetch(`${F}/api/signup`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:_,password:u})});if(i.ok){await j("/",{invalidateAll:!0});return}r(0,a=await i.text());try{r(0,a=JSON.parse(a).error)}catch{}}catch(i){r(0,a=i.toString())}await z()}return[a,t]}class K extends H{constructor(e){super(),R(this,e,N,J,k,{})}}export{K as component};
